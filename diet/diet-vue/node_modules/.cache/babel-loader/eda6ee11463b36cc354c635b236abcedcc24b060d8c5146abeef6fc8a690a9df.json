{"ast":null,"code":"function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { if (r) i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n;else { var o = function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); }; o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2); } }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { Calendar } from 'v-calendar';\nimport 'v-calendar/style.css';\nimport axios from 'axios';\nimport { mapState } from 'vuex';\nimport debounce from 'lodash/debounce';\nfunction formatDateToYMD(date) {\n  var d = new Date(date);\n  d.setMinutes(d.getMinutes() - d.getTimezoneOffset());\n  return d.toISOString().split('T')[0];\n}\nvar monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nexport default {\n  name: 'CalendarView',\n  components: {\n    'v-calendar': Calendar\n  },\n  data: function data() {\n    var now = new Date();\n    return {\n      selectedDate: new Date(),\n      selectedRecord: null,\n      loading: false,\n      error: null,\n      calendarAttrs: [],\n      showEditModal: false,\n      editForm: {\n        id: null,\n        name: '',\n        calories: 0\n      },\n      editLoading: false,\n      editError: '',\n      showAddModal: false,\n      addForm: {\n        name: '',\n        calories: 0\n      },\n      addLoading: false,\n      addError: '',\n      addSearchKeyword: '',\n      addSearchResults: [],\n      addIsSearching: false,\n      addSuggestion: '',\n      months: monthNames,\n      currentMonth: now.getMonth(),\n      currentYear: now.getFullYear()\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapState({\n    isLoggedIn: function isLoggedIn(state) {\n      return !!state.token;\n    },\n    userId: function userId(state) {\n      var _state$user;\n      return (_state$user = state.user) === null || _state$user === void 0 ? void 0 : _state$user.id;\n    }\n  })), {}, {\n    detailDateText: function detailDateText() {\n      var d = new Date(this.selectedDate);\n      return d.toLocaleDateString('zh-TW', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    }\n  }),\n  created: function created() {\n    this.debouncedAddSearch = debounce(this.searchAddFoods, 300);\n    if (this.isLoggedIn) {\n      this.handleDateSelect(this.selectedDate);\n    }\n  },\n  methods: {\n    prevYear: function prevYear() {\n      this.currentYear--;\n    },\n    nextYear: function nextYear() {\n      this.currentYear++;\n    },\n    selectMonth: function selectMonth(idx) {\n      this.currentMonth = idx;\n      // 切換月份時自動選第一天\n      var d = new Date(this.currentYear, this.currentMonth, 1);\n      this.selectedDate = d;\n      this.handleDateSelect(d);\n    },\n    onDayClick: function onDayClick(day) {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              _this.selectedDate = day.date;\n              _context.n = 1;\n              return _this.handleDateSelect(day.date);\n            case 1:\n              return _context.a(2);\n          }\n        }, _callee);\n      }))();\n    },\n    handleDateSelect: function handleDateSelect(date) {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var formattedDate, response, _t;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              if (_this2.isLoggedIn) {\n                _context2.n = 1;\n                break;\n              }\n              return _context2.a(2);\n            case 1:\n              _this2.loading = true;\n              _this2.error = null;\n              _this2.selectedRecord = null;\n              _context2.p = 2;\n              formattedDate = formatDateToYMD(date);\n              _context2.n = 3;\n              return axios.get(\"http://localhost:8081/api/food-record/\".concat(_this2.userId, \"/date/\").concat(formattedDate), {\n                headers: {\n                  'Authorization': \"Bearer \".concat(_this2.$store.state.token)\n                }\n              });\n            case 3:\n              response = _context2.v;\n              _this2.selectedRecord = response.data;\n              _context2.n = 5;\n              break;\n            case 4:\n              _context2.p = 4;\n              _t = _context2.v;\n              console.error('查詢失敗：', _t);\n              _this2.error = '查詢失敗，請稍後再試';\n            case 5:\n              _context2.p = 5;\n              _this2.loading = false;\n              return _context2.f(5);\n            case 6:\n              return _context2.a(2);\n          }\n        }, _callee2, null, [[2, 4, 5, 6]]);\n      }))();\n    },\n    openEdit: function openEdit(record) {\n      this.editForm = {\n        id: record.id,\n        name: record.foodName,\n        calories: record.calories\n      };\n      this.editError = '';\n      this.showEditModal = true;\n    },\n    closeEdit: function closeEdit() {\n      this.showEditModal = false;\n      this.editForm = {\n        id: null,\n        name: '',\n        calories: 0\n      };\n      this.editError = '';\n    },\n    submitEdit: function submitEdit() {\n      var _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3() {\n        var _t2;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.n) {\n            case 0:\n              _this3.editLoading = true;\n              _this3.editError = '';\n              _context3.p = 1;\n              _context3.n = 2;\n              return axios.put(\"http://localhost:8081/api/food-record/\".concat(_this3.editForm.id), {\n                foodName: _this3.editForm.name,\n                calories: _this3.editForm.calories\n              }, {\n                headers: {\n                  'Authorization': \"Bearer \".concat(_this3.$store.state.token)\n                }\n              });\n            case 2:\n              _this3.showEditModal = false;\n              _context3.n = 3;\n              return _this3.handleDateSelect(_this3.selectedDate);\n            case 3:\n              _context3.n = 5;\n              break;\n            case 4:\n              _context3.p = 4;\n              _t2 = _context3.v;\n              _this3.editError = '更新失敗，請稍後再試';\n            case 5:\n              _context3.p = 5;\n              _this3.editLoading = false;\n              return _context3.f(5);\n            case 6:\n              return _context3.a(2);\n          }\n        }, _callee3, null, [[1, 4, 5, 6]]);\n      }))();\n    },\n    openAdd: function openAdd() {\n      this.addForm = {\n        name: '',\n        calories: 0\n      };\n      this.addError = '';\n      this.addSearchKeyword = '';\n      this.addSearchResults = [];\n      this.showAddModal = true;\n    },\n    closeAdd: function closeAdd() {\n      this.showAddModal = false;\n      this.addForm = {\n        name: '',\n        calories: 0\n      };\n      this.addError = '';\n      this.addSearchKeyword = '';\n      this.addSearchResults = [];\n      this.addSuggestion = '';\n    },\n    submitAdd: function submitAdd() {\n      var _this4 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4() {\n        var _t3;\n        return _regenerator().w(function (_context4) {\n          while (1) switch (_context4.n) {\n            case 0:\n              _this4.addLoading = true;\n              _this4.addError = '';\n              _context4.p = 1;\n              _context4.n = 2;\n              return axios.post(\"http://localhost:8081/api/food-record/\".concat(_this4.userId), {\n                foodName: _this4.addForm.name,\n                calories: _this4.addForm.calories,\n                date: formatDateToYMD(_this4.selectedDate)\n              }, {\n                headers: {\n                  'Authorization': \"Bearer \".concat(_this4.$store.state.token)\n                }\n              });\n            case 2:\n              _this4.showAddModal = false;\n              _context4.n = 3;\n              return _this4.handleDateSelect(_this4.selectedDate);\n            case 3:\n              _context4.n = 5;\n              break;\n            case 4:\n              _context4.p = 4;\n              _t3 = _context4.v;\n              _this4.addError = '新增失敗，請稍後再試';\n            case 5:\n              _context4.p = 5;\n              _this4.addLoading = false;\n              return _context4.f(5);\n            case 6:\n              return _context4.a(2);\n          }\n        }, _callee4, null, [[1, 4, 5, 6]]);\n      }))();\n    },\n    deleteRecord: function deleteRecord(id) {\n      var _this5 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee5() {\n        var _t4;\n        return _regenerator().w(function (_context5) {\n          while (1) switch (_context5.n) {\n            case 0:\n              if (confirm('確定要刪除這筆紀錄嗎？')) {\n                _context5.n = 1;\n                break;\n              }\n              return _context5.a(2);\n            case 1:\n              _context5.p = 1;\n              _context5.n = 2;\n              return axios[\"delete\"](\"http://localhost:8081/api/food-record/\".concat(id), {\n                headers: {\n                  'Authorization': \"Bearer \".concat(_this5.$store.state.token)\n                }\n              });\n            case 2:\n              _context5.n = 3;\n              return _this5.handleDateSelect(_this5.selectedDate);\n            case 3:\n              _context5.n = 5;\n              break;\n            case 4:\n              _context5.p = 4;\n              _t4 = _context5.v;\n              alert('刪除失敗，請稍後再試');\n            case 5:\n              return _context5.a(2);\n          }\n        }, _callee5, null, [[1, 4]]);\n      }))();\n    },\n    handleAddSearch: function handleAddSearch() {\n      var _this6 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee6() {\n        return _regenerator().w(function (_context6) {\n          while (1) switch (_context6.n) {\n            case 0:\n              if (!_this6.addSearchKeyword.trim()) {\n                _context6.n = 2;\n                break;\n              }\n              _this6.addIsSearching = true;\n              _context6.n = 1;\n              return _this6.debouncedAddSearch();\n            case 1:\n              _context6.n = 3;\n              break;\n            case 2:\n              _this6.addSearchResults = [];\n            case 3:\n              return _context6.a(2);\n          }\n        }, _callee6);\n      }))();\n    },\n    searchAddFoods: function searchAddFoods() {\n      var _this7 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee7() {\n        var response, _t5;\n        return _regenerator().w(function (_context7) {\n          while (1) switch (_context7.n) {\n            case 0:\n              _context7.p = 0;\n              _context7.n = 1;\n              return axios.get(\"http://localhost:8081/api/foods/search\", {\n                params: {\n                  keyword: _this7.addSearchKeyword\n                }\n              });\n            case 1:\n              response = _context7.v;\n              _this7.addSearchResults = response.data;\n              _context7.n = 3;\n              break;\n            case 2:\n              _context7.p = 2;\n              _t5 = _context7.v;\n              _this7.addSearchResults = [];\n            case 3:\n              _context7.p = 3;\n              _this7.addIsSearching = false;\n              return _context7.f(3);\n            case 4:\n              return _context7.a(2);\n          }\n        }, _callee7, null, [[0, 2, 3, 4]]);\n      }))();\n    },\n    selectAddFood: function selectAddFood(food) {\n      this.addForm.name = food.name;\n      this.addForm.calories = food.calories;\n      this.addSearchResults = [];\n      this.addSearchKeyword = '';\n    },\n    getAddSuggestion: function getAddSuggestion() {\n      var _this8 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee8() {\n        var response, _t6;\n        return _regenerator().w(function (_context8) {\n          while (1) switch (_context8.n) {\n            case 0:\n              if (_this8.addForm.name) {\n                _context8.n = 1;\n                break;\n              }\n              return _context8.a(2);\n            case 1:\n              _context8.p = 1;\n              _context8.n = 2;\n              return axios.get(\"http://localhost:8081/api/nutrition/check\", {\n                params: {\n                  food: _this8.addForm.name\n                }\n              });\n            case 2:\n              response = _context8.v;\n              _this8.addSuggestion = response.data.意見;\n              _context8.n = 4;\n              break;\n            case 3:\n              _context8.p = 3;\n              _t6 = _context8.v;\n              console.error('獲取建議失敗：', _t6);\n              _this8.addSuggestion = '無法獲取建議熱量';\n            case 4:\n              return _context8.a(2);\n          }\n        }, _callee8, null, [[1, 3]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","enumerable","configurable","writable","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_toPrimitive","_typeof","toPrimitive","String","Number","Calendar","axios","mapState","debounce","formatDateToYMD","date","Date","setMinutes","getMinutes","getTimezoneOffset","toISOString","split","monthNames","name","components","data","now","selectedDate","selectedRecord","loading","error","calendarAttrs","showEditModal","editForm","id","calories","editLoading","editError","showAddModal","addForm","addLoading","addError","addSearchKeyword","addSearchResults","addIsSearching","addSuggestion","months","currentMonth","getMonth","currentYear","getFullYear","computed","isLoggedIn","state","token","userId","_state$user","user","detailDateText","toLocaleDateString","year","month","day","created","debouncedAddSearch","searchAddFoods","handleDateSelect","methods","prevYear","nextYear","selectMonth","idx","onDayClick","_this","_callee","_context","_this2","_callee2","formattedDate","response","_t","_context2","get","concat","headers","$store","console","openEdit","record","foodName","closeEdit","submitEdit","_this3","_callee3","_t2","_context3","put","openAdd","closeAdd","submitAdd","_this4","_callee4","_t3","_context4","post","deleteRecord","_this5","_callee5","_t4","_context5","confirm","alert","handleAddSearch","_this6","_callee6","_context6","trim","_this7","_callee7","_t5","_context7","params","keyword","selectAddFood","food","getAddSuggestion","_this8","_callee8","_t6","_context8","意見"],"sources":["C:\\myapp\\diet\\diet-vue\\src\\views\\CalendarView.vue"],"sourcesContent":["<template>\n  <div class=\"evocalendar-root\">\n    <!-- 左側：年份與月份選單 -->\n    <aside class=\"evocalendar-sidebar\">\n      <div class=\"evocalendar-year-bar\">\n        <button @click=\"prevYear\" class=\"evocalendar-arrow\">&#60;</button>\n        <span class=\"evocalendar-year\">{{ currentYear }}</span>\n        <button @click=\"nextYear\" class=\"evocalendar-arrow\">&#62;</button>\n      </div>\n      <ul class=\"evocalendar-month-list\">\n        <li v-for=\"(m, idx) in months\" :key=\"m\"\n            :class=\"{ active: idx === currentMonth }\"\n            @click=\"selectMonth(idx)\">\n          {{ m }}\n        </li>\n      </ul>\n    </aside>\n    <!-- 中間：月曆本體 -->\n    <section class=\"evocalendar-calendar\">\n      <v-calendar\n        is-expanded\n        :attributes=\"calendarAttrs\"\n        :from-page=\"{ month: currentMonth + 1, year: currentYear }\"\n        :to-page=\"{ month: currentMonth + 1, year: currentYear }\"\n        @dayclick=\"onDayClick\"\n        locale=\"zh-tw\"\n        :style=\"{ width: '420px', height: '340px', background: 'white', borderRadius: '16px', boxShadow: '0 2px 12px #a084e830', border: '2px solid #a084e8' }\"\n      />\n    </section>\n    <!-- 右側：當日詳細紀錄 -->\n    <aside class=\"evocalendar-detail\">\n      <div class=\"evocalendar-detail-header\">\n        <span class=\"evocalendar-detail-date\">{{ detailDateText }}</span>\n      </div>\n      <div class=\"evocalendar-detail-cards\">\n        <div class=\"evocalendar-detail-card\" v-if=\"selectedRecord\">\n          <div class=\"evocalendar-detail-dot\" :class=\"{ warning: selectedRecord.remainingCalories < 0 }\"></div>\n          <div class=\"evocalendar-detail-title\">總攝取熱量</div>\n          <div class=\"evocalendar-detail-value\">{{ selectedRecord.totalCalories }} 卡路里</div>\n        </div>\n        <div class=\"evocalendar-detail-card\" v-if=\"selectedRecord\">\n          <div class=\"evocalendar-detail-dot yellow\"></div>\n          <div class=\"evocalendar-detail-title\">目標熱量</div>\n          <div class=\"evocalendar-detail-value\">{{ selectedRecord.goalCalories ?? '-' }} 卡路里</div>\n        </div>\n        <div class=\"evocalendar-detail-card\" v-if=\"selectedRecord\">\n          <div class=\"evocalendar-detail-dot blue\"></div>\n          <div class=\"evocalendar-detail-title\">剩餘熱量</div>\n          <div class=\"evocalendar-detail-value\" :class=\"{ warning: selectedRecord.remainingCalories < 0 }\">{{ selectedRecord.remainingCalories ?? '-' }} 卡路里</div>\n        </div>\n      </div>\n      <div class=\"evocalendar-detail-list\">\n        <h4>當日食物紀錄</h4>\n        <div v-if=\"selectedRecord && selectedRecord.records.length === 0\" class=\"no-records\">當日沒有食物記錄</div>\n        <div v-else-if=\"selectedRecord\" class=\"record-items\">\n          <div v-for=\"record in selectedRecord.records\" :key=\"record.id\" class=\"record-item\">\n            <span class=\"food-name\">{{ record.foodName }}</span>\n            <span class=\"food-calories\">{{ record.calories }} 卡路里</span>\n            <button class=\"edit-btn\" @click=\"openEdit(record)\">編輯</button>\n            <button class=\"delete-btn\" @click=\"deleteRecord(record.id)\">刪除</button>\n          </div>\n        </div>\n        <button class=\"add-btn\" @click=\"openAdd\">＋ 新增食物</button>\n      </div>\n    </aside>\n    <!-- 編輯彈窗 -->\n    <div v-if=\"showEditModal\" class=\"modal-overlay\">\n      <div class=\"modal-content\">\n        <h3>編輯食物紀錄</h3>\n        <form @submit.prevent=\"submitEdit\">\n          <div class=\"form-group\">\n            <label>食物名稱</label>\n            <input v-model=\"editForm.name\" required />\n          </div>\n          <div class=\"form-group\">\n            <label>卡路里</label>\n            <input type=\"number\" v-model.number=\"editForm.calories\" min=\"0\" required />\n          </div>\n          <div class=\"modal-actions\">\n            <button type=\"submit\" :disabled=\"editLoading\">{{ editLoading ? '儲存中...' : '儲存' }}</button>\n            <button type=\"button\" @click=\"closeEdit\" :disabled=\"editLoading\">取消</button>\n          </div>\n          <div v-if=\"editError\" class=\"edit-error\">{{ editError }}</div>\n        </form>\n      </div>\n    </div>\n    <!-- 新增彈窗（含即時搜尋） -->\n    <div v-if=\"showAddModal\" class=\"modal-overlay\">\n      <div class=\"modal-content\">\n        <h3>新增食物紀錄</h3>\n        <form @submit.prevent=\"submitAdd\">\n          <div class=\"form-group\">\n            <label>搜尋食物</label>\n            <input v-model=\"addSearchKeyword\" @input=\"handleAddSearch\" placeholder=\"請輸入食物名稱\" />\n          </div>\n          <div v-if=\"addIsSearching\" class=\"loading\">搜尋中...</div>\n          <div v-else-if=\"addSearchResults.length > 0\" class=\"search-results\">\n            <div v-for=\"food in addSearchResults\" :key=\"food.foodId\" class=\"food-item\" @click=\"selectAddFood(food)\">\n              <span class=\"food-name\">{{ food.name }}</span>\n              <span class=\"food-calories\">{{ food.calories }} 卡路里</span>\n              <span v-if=\"food.suggestedCalories\" class=\"suggested-calories\">\n                建議: {{ food.suggestedCalories }} 卡路里\n              </span>\n            </div>\n          </div>\n          <div v-else-if=\"addSearchKeyword && !addIsSearching\" class=\"no-results\">找不到相關食物</div>\n          <div class=\"form-group\">\n            <label>食物名稱</label>\n            <div class=\"input-with-button\">\n              <input v-model=\"addForm.name\" required />\n              <button type=\"button\" class=\"suggest-btn\" @click=\"getAddSuggestion\" :disabled=\"!addForm.name\">\n                建議熱量\n              </button>\n            </div>\n          </div>\n          <div v-if=\"addSuggestion\" class=\"suggestion-box\">\n            {{ addSuggestion }}\n          </div>\n          <div class=\"form-group\">\n            <label>卡路里</label>\n            <input type=\"number\" v-model.number=\"addForm.calories\" min=\"0\" required />\n          </div>\n          <div class=\"modal-actions\">\n            <button type=\"submit\" :disabled=\"addLoading\">{{ addLoading ? '新增中...' : '新增' }}</button>\n            <button type=\"button\" @click=\"closeAdd\" :disabled=\"addLoading\">取消</button>\n          </div>\n          <div v-if=\"addError\" class=\"edit-error\">{{ addError }}</div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Calendar } from 'v-calendar';\nimport 'v-calendar/style.css';\nimport axios from 'axios';\nimport { mapState } from 'vuex';\nimport debounce from 'lodash/debounce';\n\nfunction formatDateToYMD(date) {\n  const d = new Date(date);\n  d.setMinutes(d.getMinutes() - d.getTimezoneOffset());\n  return d.toISOString().split('T')[0];\n}\n\nconst monthNames = [\n  'January', 'February', 'March', 'April', 'May', 'June',\n  'July', 'August', 'September', 'October', 'November', 'December'\n];\n\nexport default {\n  name: 'CalendarView',\n  components: {\n    'v-calendar': Calendar\n  },\n  data() {\n    const now = new Date();\n    return {\n      selectedDate: new Date(),\n      selectedRecord: null,\n      loading: false,\n      error: null,\n      calendarAttrs: [],\n      showEditModal: false,\n      editForm: {\n        id: null,\n        name: '',\n        calories: 0\n      },\n      editLoading: false,\n      editError: '',\n      showAddModal: false,\n      addForm: {\n        name: '',\n        calories: 0\n      },\n      addLoading: false,\n      addError: '',\n      addSearchKeyword: '',\n      addSearchResults: [],\n      addIsSearching: false,\n      addSuggestion: '',\n      months: monthNames,\n      currentMonth: now.getMonth(),\n      currentYear: now.getFullYear()\n    };\n  },\n  computed: {\n    ...mapState({\n      isLoggedIn: state => !!state.token,\n      userId: state => state.user?.id\n    }),\n    detailDateText() {\n      const d = new Date(this.selectedDate);\n      return d.toLocaleDateString('zh-TW', { year: 'numeric', month: 'long', day: 'numeric' });\n    }\n  },\n  created() {\n    this.debouncedAddSearch = debounce(this.searchAddFoods, 300);\n    if (this.isLoggedIn) {\n      this.handleDateSelect(this.selectedDate);\n    }\n  },\n  methods: {\n    prevYear() {\n      this.currentYear--;\n    },\n    nextYear() {\n      this.currentYear++;\n    },\n    selectMonth(idx) {\n      this.currentMonth = idx;\n      // 切換月份時自動選第一天\n      const d = new Date(this.currentYear, this.currentMonth, 1);\n      this.selectedDate = d;\n      this.handleDateSelect(d);\n    },\n    async onDayClick(day) {\n      this.selectedDate = day.date;\n      await this.handleDateSelect(day.date);\n    },\n    async handleDateSelect(date) {\n      if (!this.isLoggedIn) return;\n      this.loading = true;\n      this.error = null;\n      this.selectedRecord = null;\n      try {\n        const formattedDate = formatDateToYMD(date);\n        const response = await axios.get(\n          `http://localhost:8081/api/food-record/${this.userId}/date/${formattedDate}`,\n          {\n            headers: {\n              'Authorization': `Bearer ${this.$store.state.token}`\n            }\n          }\n        );\n        this.selectedRecord = response.data;\n      } catch (error) {\n        console.error('查詢失敗：', error);\n        this.error = '查詢失敗，請稍後再試';\n      } finally {\n        this.loading = false;\n      }\n    },\n    openEdit(record) {\n      this.editForm = {\n        id: record.id,\n        name: record.foodName,\n        calories: record.calories\n      };\n      this.editError = '';\n      this.showEditModal = true;\n    },\n    closeEdit() {\n      this.showEditModal = false;\n      this.editForm = { id: null, name: '', calories: 0 };\n      this.editError = '';\n    },\n    async submitEdit() {\n      this.editLoading = true;\n      this.editError = '';\n      try {\n        await axios.put(`http://localhost:8081/api/food-record/${this.editForm.id}`, {\n          foodName: this.editForm.name,\n          calories: this.editForm.calories\n        }, {\n          headers: {\n            'Authorization': `Bearer ${this.$store.state.token}`\n          }\n        });\n        this.showEditModal = false;\n        await this.handleDateSelect(this.selectedDate);\n      } catch (e) {\n        this.editError = '更新失敗，請稍後再試';\n      } finally {\n        this.editLoading = false;\n      }\n    },\n    openAdd() {\n      this.addForm = { name: '', calories: 0 };\n      this.addError = '';\n      this.addSearchKeyword = '';\n      this.addSearchResults = [];\n      this.showAddModal = true;\n    },\n    closeAdd() {\n      this.showAddModal = false;\n      this.addForm = { name: '', calories: 0 };\n      this.addError = '';\n      this.addSearchKeyword = '';\n      this.addSearchResults = [];\n      this.addSuggestion = '';\n    },\n    async submitAdd() {\n      this.addLoading = true;\n      this.addError = '';\n      try {\n        await axios.post(`http://localhost:8081/api/food-record/${this.userId}`, {\n          foodName: this.addForm.name,\n          calories: this.addForm.calories,\n          date: formatDateToYMD(this.selectedDate)\n        }, {\n          headers: {\n            'Authorization': `Bearer ${this.$store.state.token}`\n          }\n        });\n        this.showAddModal = false;\n        await this.handleDateSelect(this.selectedDate);\n      } catch (e) {\n        this.addError = '新增失敗，請稍後再試';\n      } finally {\n        this.addLoading = false;\n      }\n    },\n    async deleteRecord(id) {\n      if (!confirm('確定要刪除這筆紀錄嗎？')) return;\n      try {\n        await axios.delete(`http://localhost:8081/api/food-record/${id}`, {\n          headers: {\n            'Authorization': `Bearer ${this.$store.state.token}`\n          }\n        });\n        await this.handleDateSelect(this.selectedDate);\n      } catch (e) {\n        alert('刪除失敗，請稍後再試');\n      }\n    },\n    async handleAddSearch() {\n      if (this.addSearchKeyword.trim()) {\n        this.addIsSearching = true;\n        await this.debouncedAddSearch();\n      } else {\n        this.addSearchResults = [];\n      }\n    },\n    async searchAddFoods() {\n      try {\n        const response = await axios.get(\n          `http://localhost:8081/api/foods/search`,\n          {\n            params: {\n              keyword: this.addSearchKeyword\n            }\n          }\n        );\n        this.addSearchResults = response.data;\n      } catch (error) {\n        this.addSearchResults = [];\n      } finally {\n        this.addIsSearching = false;\n      }\n    },\n    selectAddFood(food) {\n      this.addForm.name = food.name;\n      this.addForm.calories = food.calories;\n      this.addSearchResults = [];\n      this.addSearchKeyword = '';\n    },\n    async getAddSuggestion() {\n      if (!this.addForm.name) return;\n      try {\n        const response = await axios.get(\n          `http://localhost:8081/api/nutrition/check`,\n          {\n            params: {\n              food: this.addForm.name\n            }\n          }\n        );\n        this.addSuggestion = response.data.意見;\n      } catch (error) {\n        console.error('獲取建議失敗：', error);\n        this.addSuggestion = '無法獲取建議熱量';\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.evocalendar-root {\n  display: flex;\n  background: #f9f9fb;\n  border-radius: 18px;\n  box-shadow: 0 4px 24px #a084e830;\n  max-width: 1200px;\n  margin: 30px auto;\n  min-height: 600px;\n  overflow: hidden;\n}\n.evocalendar-sidebar {\n  background: #a084e8;\n  color: #fff;\n  width: 180px;\n  padding: 30px 0 0 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-width: 140px;\n}\n.evocalendar-year-bar {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 18px;\n}\n.evocalendar-arrow {\n  background: none;\n  border: none;\n  color: #fff;\n  font-size: 1.3em;\n  font-weight: bold;\n  cursor: pointer;\n  margin: 0 8px;\n  transition: color 0.2s;\n}\n.evocalendar-arrow:hover {\n  color: #ffd166;\n}\n.evocalendar-year {\n  font-size: 1.2em;\n  font-weight: bold;\n  letter-spacing: 1px;\n}\n.evocalendar-month-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  width: 100%;\n}\n.evocalendar-month-list li {\n  padding: 10px 0 10px 30px;\n  cursor: pointer;\n  font-size: 1.08em;\n  border-left: 4px solid transparent;\n  transition: background 0.2s, border-color 0.2s;\n}\n.evocalendar-month-list li.active,\n.evocalendar-month-list li:hover {\n  background: #fff2;\n  border-left: 4px solid #ffd166;\n  color: #ffd166;\n}\n.evocalendar-calendar {\n  flex: 1 1 420px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 0;\n}\n.evocalendar-detail {\n  flex: 1 1 350px;\n  background: #fff;\n  padding: 32px 28px 32px 24px;\n  display: flex;\n  flex-direction: column;\n  min-width: 320px;\n  box-shadow: -2px 0 12px #a084e820;\n}\n.evocalendar-detail-header {\n  margin-bottom: 18px;\n}\n.evocalendar-detail-date {\n  font-size: 1.2em;\n  font-weight: bold;\n  color: #a084e8;\n  letter-spacing: 1px;\n}\n.evocalendar-detail-cards {\n  display: flex;\n  gap: 12px;\n  margin-bottom: 18px;\n}\n.evocalendar-detail-card {\n  flex: 1 1 0;\n  background: #f9f9fb;\n  border-radius: 10px;\n  box-shadow: 0 1px 6px #a084e820;\n  padding: 12px 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-width: 0;\n}\n.evocalendar-detail-dot {\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  margin-bottom: 6px;\n  background: #ff6b81;\n}\n.evocalendar-detail-dot.yellow {\n  background: #ffd166;\n}\n.evocalendar-detail-dot.blue {\n  background: #2980b9;\n}\n.evocalendar-detail-dot.warning {\n  background: #e74c3c;\n}\n.evocalendar-detail-title {\n  font-size: 0.98em;\n  color: #888;\n  margin-bottom: 2px;\n}\n.evocalendar-detail-value {\n  font-size: 1.15em;\n  font-weight: bold;\n  color: #34495e;\n}\n.evocalendar-detail-value.warning {\n  color: #e74c3c;\n}\n.evocalendar-detail-list {\n  margin-top: 18px;\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n}\n.evocalendar-detail-list h4 {\n  font-size: 1.08em;\n  font-weight: 600;\n  margin-bottom: 10px;\n  color: #a084e8;\n}\n.no-records {\n  color: #bbb;\n  font-style: italic;\n  text-align: center;\n  padding: 18px 0;\n}\n.record-items {\n  flex-grow: 1;\n  overflow-y: auto;\n}\n.record-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #eee;\n  padding: 8px 0;\n  font-size: 1rem;\n  color: #444;\n}\n.food-name {\n  flex: 1 1 40%;\n  font-weight: 500;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.food-calories {\n  flex: 1 1 30%;\n  text-align: right;\n  color: #27ae60;\n  font-weight: 600;\n  user-select: none;\n}\n.edit-btn,\n.delete-btn {\n  border: none;\n  padding: 4px 10px;\n  margin-left: 8px;\n  font-size: 0.9rem;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.25s ease;\n  user-select: none;\n}\n.edit-btn {\n  background-color: #f39c12;\n  color: white;\n}\n.edit-btn:hover {\n  background-color: #d78e0e;\n}\n.delete-btn {\n  background-color: #e74c3c;\n  color: white;\n}\n.delete-btn:hover {\n  background-color: #c0392b;\n}\n.add-btn {\n  background-color: #2980b9;\n  color: white;\n  border: none;\n  padding: 6px 14px;\n  font-size: 1rem;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.25s ease;\n  margin-top: 12px;\n  width: 100%;\n  /* //display: block; */\n  text-align: center;\n}\n.add-btn:hover {\n  background-color: #1c5980;\n}\n.loading,\n.error,\n.edit-error {\n  color: #888;\n  text-align: center;\n  padding: 12px 0;\n}\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0,0,0,0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n}\n.modal-content {\n  background: white;\n  border-radius: 8px;\n  padding: 25px 30px;\n  width: 400px;\n  max-width: 90vw;\n  box-shadow: 0 3px 12px rgb(0 0 0 / 0.25);\n}\n.form-group {\n  margin-bottom: 15px;\n  display: flex;\n  flex-direction: column;\n}\n.form-group label {\n  font-weight: 600;\n  margin-bottom: 6px;\n  color: #333;\n}\n.form-group input {\n  padding: 8px 10px;\n  font-size: 1rem;\n  border-radius: 5px;\n  border: 1px solid #ccc;\n  transition: border-color 0.25s ease;\n}\n.form-group input:focus {\n  outline: none;\n  border-color: #2980b9;\n}\n.modal-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  margin-top: 15px;\n}\n.modal-actions button {\n  padding: 8px 14px;\n  border-radius: 5px;\n  border: none;\n  font-size: 1rem;\n  cursor: pointer;\n  user-select: none;\n  transition: background-color 0.3s ease;\n}\n.modal-actions button[type=\"submit\"] {\n  background-color: #27ae60;\n  color: white;\n}\n.modal-actions button[type=\"submit\"]:disabled {\n  background-color: #88c57d;\n  cursor: not-allowed;\n}\n.modal-actions button[type=\"button\"] {\n  background-color: #bbb;\n  color: #333;\n}\n.modal-actions button[type=\"button\"]:disabled {\n  background-color: #ddd;\n  cursor: not-allowed;\n}\n.search-results {\n  max-height: 200px;\n  overflow-y: auto;\n  border: 1px solid #ccc;\n  border-radius: 6px;\n  margin-bottom: 15px;\n  background: #fff;\n}\n.food-item {\n  padding: 10px 14px;\n  cursor: pointer;\n  display: flex;\n  justify-content: space-between;\n  font-weight: 500;\n  color: #34495e;\n  border-bottom: 1px solid #eee;\n  user-select: none;\n}\n.food-item:hover {\n  background-color: #f0f8ff;\n}\n.no-results {\n  color: #999;\n  font-style: italic;\n  text-align: center;\n  padding: 8px;\n}\n.input-with-button {\n  display: flex;\n  gap: 10px;\n}\n.input-with-button input {\n  flex: 1;\n}\n.suggest-btn {\n  padding: 8px 12px;\n  background-color: #42b983;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  white-space: nowrap;\n  transition: background-color 0.3s;\n}\n.suggest-btn:hover:not(:disabled) {\n  background-color: #3aa876;\n}\n.suggest-btn:disabled {\n  background-color: #a8d5c2;\n  cursor: not-allowed;\n}\n.suggestion-box {\n  margin: 10px 0;\n  padding: 10px;\n  background-color: #f8f9fa;\n  border-radius: 4px;\n  color: #666;\n  font-style: italic;\n}\n@media (max-width: 1024px) {\n  .evocalendar-root {\n    flex-direction: column;\n    min-width: 0;\n    min-height: 0;\n  }\n  .evocalendar-sidebar {\n    flex-direction: row;\n    width: 100%;\n    min-width: 0;\n    padding: 10px 0;\n    justify-content: center;\n  }\n  .evocalendar-calendar {\n    padding: 20px 0;\n  }\n  .evocalendar-detail {\n    min-width: 0;\n    padding: 20px 10px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}