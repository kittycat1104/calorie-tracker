{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { ref } from 'vue';\nexport var useUserStore = defineStore('user', function () {\n  // 登入狀態\n  var token = ref(localStorage.getItem('token') || '');\n  var user = ref(null);\n\n  // 首頁建議內容\n  var advice = ref('');\n  var adviceHtml = ref('');\n  function setToken(newToken) {\n    token.value = newToken;\n    if (newToken) {\n      localStorage.setItem('token', newToken);\n    } else {\n      localStorage.removeItem('token');\n    }\n  }\n  function setUser(newUser) {\n    user.value = newUser;\n  }\n  function logout() {\n    token.value = '';\n    user.value = null;\n    advice.value = '';\n    adviceHtml.value = '';\n    localStorage.removeItem('token');\n  }\n  function setAdvice(newAdvice, newAdviceHtml) {\n    advice.value = newAdvice;\n    adviceHtml.value = newAdviceHtml;\n  }\n  function clearAdvice() {\n    advice.value = '';\n    adviceHtml.value = '';\n  }\n  return {\n    token: token,\n    user: user,\n    advice: advice,\n    adviceHtml: adviceHtml,\n    setToken: setToken,\n    setUser: setUser,\n    logout: logout,\n    setAdvice: setAdvice,\n    clearAdvice: clearAdvice\n  };\n});","map":{"version":3,"names":["defineStore","ref","useUserStore","token","localStorage","getItem","user","advice","adviceHtml","setToken","newToken","value","setItem","removeItem","setUser","newUser","logout","setAdvice","newAdvice","newAdviceHtml","clearAdvice"],"sources":["C:/myapp/diet/diet-vue/src/stores/user.js"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport { ref } from 'vue'\r\n\r\nexport const useUserStore = defineStore('user', () => {\r\n  // 登入狀態\r\n  const token = ref(localStorage.getItem('token') || '')\r\n  const user = ref(null)\r\n\r\n  // 首頁建議內容\r\n  const advice = ref('')\r\n  const adviceHtml = ref('')\r\n\r\n  function setToken(newToken) {\r\n    token.value = newToken\r\n    if (newToken) {\r\n      localStorage.setItem('token', newToken)\r\n    } else {\r\n      localStorage.removeItem('token')\r\n    }\r\n  }\r\n\r\n  function setUser(newUser) {\r\n    user.value = newUser\r\n  }\r\n\r\n  function logout() {\r\n    token.value = ''\r\n    user.value = null\r\n    advice.value = ''\r\n    adviceHtml.value = ''\r\n    localStorage.removeItem('token')\r\n  }\r\n\r\n  function setAdvice(newAdvice, newAdviceHtml) {\r\n    advice.value = newAdvice\r\n    adviceHtml.value = newAdviceHtml\r\n  }\r\n\r\n  function clearAdvice() {\r\n    advice.value = ''\r\n    adviceHtml.value = ''\r\n  }\r\n\r\n  return {\r\n    token,\r\n    user,\r\n    advice,\r\n    adviceHtml,\r\n    setToken,\r\n    setUser,\r\n    logout,\r\n    setAdvice,\r\n    clearAdvice\r\n  }\r\n}) "],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,GAAG,QAAQ,KAAK;AAEzB,OAAO,IAAMC,YAAY,GAAGF,WAAW,CAAC,MAAM,EAAE,YAAM;EACpD;EACA,IAAMG,KAAK,GAAGF,GAAG,CAACG,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;EACtD,IAAMC,IAAI,GAAGL,GAAG,CAAC,IAAI,CAAC;;EAEtB;EACA,IAAMM,MAAM,GAAGN,GAAG,CAAC,EAAE,CAAC;EACtB,IAAMO,UAAU,GAAGP,GAAG,CAAC,EAAE,CAAC;EAE1B,SAASQ,QAAQA,CAACC,QAAQ,EAAE;IAC1BP,KAAK,CAACQ,KAAK,GAAGD,QAAQ;IACtB,IAAIA,QAAQ,EAAE;MACZN,YAAY,CAACQ,OAAO,CAAC,OAAO,EAAEF,QAAQ,CAAC;IACzC,CAAC,MAAM;MACLN,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;IAClC;EACF;EAEA,SAASC,OAAOA,CAACC,OAAO,EAAE;IACxBT,IAAI,CAACK,KAAK,GAAGI,OAAO;EACtB;EAEA,SAASC,MAAMA,CAAA,EAAG;IAChBb,KAAK,CAACQ,KAAK,GAAG,EAAE;IAChBL,IAAI,CAACK,KAAK,GAAG,IAAI;IACjBJ,MAAM,CAACI,KAAK,GAAG,EAAE;IACjBH,UAAU,CAACG,KAAK,GAAG,EAAE;IACrBP,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;EAClC;EAEA,SAASI,SAASA,CAACC,SAAS,EAAEC,aAAa,EAAE;IAC3CZ,MAAM,CAACI,KAAK,GAAGO,SAAS;IACxBV,UAAU,CAACG,KAAK,GAAGQ,aAAa;EAClC;EAEA,SAASC,WAAWA,CAAA,EAAG;IACrBb,MAAM,CAACI,KAAK,GAAG,EAAE;IACjBH,UAAU,CAACG,KAAK,GAAG,EAAE;EACvB;EAEA,OAAO;IACLR,KAAK,EAALA,KAAK;IACLG,IAAI,EAAJA,IAAI;IACJC,MAAM,EAANA,MAAM;IACNC,UAAU,EAAVA,UAAU;IACVC,QAAQ,EAARA,QAAQ;IACRK,OAAO,EAAPA,OAAO;IACPE,MAAM,EAANA,MAAM;IACNC,SAAS,EAATA,SAAS;IACTG,WAAW,EAAXA;EACF,CAAC;AACH,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}